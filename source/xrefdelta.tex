%!TEX root = std.tex

\newcommand{\secref}[1]{\hyperref[\indexescape{#1}]{\indexescape{#1}}}

%%% Turn off page numbers for this glossary, they're not useful.
\newcommand{\swallow}[1]{}
\changeglossnumformat[xrefdelta]{|swallow}

\newcommand{\oldxref}[2]{\glossary[xrefdelta]{\indexescape{#1}}{#2}}
\newcommand{\removedxref}[1]{\oldxref{#1}{\textit{removed}}}
\newcommand{\movedxrefs}[2]{\oldxref{#1}{\textit{see} #2}}
\newcommand{\movedxref}[2]{\movedxrefs{#1}{\secref{#2}}}
\newcommand{\movedxrefii}[3]{\movedxrefs{#1}{\secref{#2}, \secref{#3}}}
\newcommand{\movedxrefiii}[4]{\movedxrefs{#1}{\secref{#2}, \secref{#3}, \secref{#4}}}
\newcommand{\deprxref}[1]{\oldxref{#1}{\textit{see} \secref{depr.#1}}}

%%% Removed features.
%%% Example:
%
%   \removedxref{removed.label}

% P2864R2 Remove deprecated arithmetic conversions
\removedxref{depr.arith.conv.enum}

% P2871R3 Remove deprecated <codecvt> header
\removedxref{depr.codecvt.syn}
\removedxref{depr.locale.stdcvt}
\removedxref{depr.locale.stdcvt.general}
\removedxref{depr.locale.stdcvt.req}

% P2870R3 Remove deprecated typedef from `std::allocator`
\removedxref{depr.default.allocator}

% P2874R2 Mandating Annex D
\removedxref{depr.res.on.required}

% P2870R3 Remove `basic_string::reserve()` with no parameters
\removedxref{depr.string.capacity}

% P2867R2 Remove deprecated strstreams
\removedxref{depr.istrstream}
\removedxref{depr.istrstream.cons}
\removedxref{depr.istrstream.general}
\removedxref{depr.istrstream.members}
\removedxref{depr.ostrstream}
\removedxref{depr.ostrstream.cons}
\removedxref{depr.ostrstream.general}
\removedxref{depr.ostrstream.members}
\removedxref{depr.str.strstreams}
\removedxref{depr.strstream}
\removedxref{depr.strstream.cons}
\removedxref{depr.strstream.dest}
\removedxref{depr.strstream.general}
\removedxref{depr.strstream.oper}
\removedxref{depr.strstream.syn}
\removedxref{depr.strstreambuf}
\removedxref{depr.strstreambuf.cons}
\removedxref{depr.strstreambuf.general}
\removedxref{depr.strstreambuf.members}
\removedxref{depr.strstreambuf.virtuals}

% P2869R4 Remove deprecated shared_ptr atomic access
\removedxref{depr.util.smartptr.shared.atomic}

% P2872R3 Remove wstring_convert
\removedxref{depr.conversions}
\removedxref{depr.conversions.buffer}
\removedxref{depr.conversions.general}
\removedxref{depr.conversions.string}

% Clause restructuring
\removedxref{type.index.overview}
\removedxref{type.index.members}
\removedxref{type.index.hash}

%%% Renamed sections.
%%% Examples:
%
%   \movedxref{old.label}{new.label}
%   \movedxrefii{old.label}{new.label.1}{new.label.2}
%   \movedxrefiii{old.label}{new.label.1}{new.label.2}{new.label.3}
%   \movedxrefs{old.label}{new place (e.g., \tref{blah})}

% https://github.com/cplusplus/draft/pull/6255
\movedxref{container.gen.reqmts}{container.requirements.general}

% P2875R4 Undeprecate polymorphic_allocator::destroy
\movedxref{depr.mem.poly.allocator.mem}{mem.poly.allocator.mem}

% https://github.com/cplusplus/draft/pull/6653
\movedxref{mismatch}{alg.mismatch}

% P2300R10 std::execution
\movedxref{stopsource.nonmembers}{stopsource}
\movedxref{stoptoken.cons}{stopsource}
\movedxref{stoptoken.nonmembers}{stopsource}

% https://github.com/cplusplus/draft/pull/7276
\movedxref{except.uncaught}{except.throw}

%%% Deprecated features.
%%% Example:
%
%   \deprxref{old.label}  (if moved to depr.old.label, otherwise use \movedxref)

%!TEX root = std.tex

\newcommand{\secref}[1]{\hyperref[#1]{#1}}

% Turn off page numbers for this glossary, they're not useful.
\newcommand{\swallow}[1]{}
\changeglossnumformat[xrefdelta]{|swallow}

\newcommand{\oldxref}[2]{\glossary[xrefdelta]{#1}{#2}}
\newcommand{\removedxref}[1]{\oldxref{#1}{\textit{removed}}}
\newcommand{\movedxrefs}[2]{\oldxref{#1}{\textit{see} #2}}
\newcommand{\movedxref}[2]{\movedxrefs{#1}{\secref{#2}}}
\newcommand{\movedxrefii}[3]{\movedxrefs{#1}{\secref{#2}, \secref{#3}}}
\newcommand{\movedxrefiii}[4]{\movedxrefs{#1}{\secref{#2}, \secref{#3}, \secref{#4}}}
\newcommand{\deprxref}[1]{\oldxref{#1}{\textit{see} \secref{depr.#1}}}

% Removed features.
\removedxref{depr.auto.ptr}
\removedxref{auto.ptr}
\removedxref{auto.ptr.cons}
\removedxref{auto.ptr.conv}
\removedxref{auto.ptr.members}
\removedxref{depr.incr.bool}
\removedxref{exception.unexpected}
\removedxref{except.unexpected}
\removedxref{get.unexpected}
\removedxref{set.unexpected}
\removedxref{unexpected}
\removedxref{unexpected.handler}
\removedxref{depr.adaptors}
\removedxref{depr.base}
\removedxref{depr.function.objects}
\removedxref{depr.function.pointer.adaptors}
\removedxref{depr.lib.bind.1st}
\removedxref{depr.lib.bind.2nd}
\removedxref{depr.lib.binder.1st}
\removedxref{depr.lib.binder.2nd}
\removedxref{depr.lib.binders}
\removedxref{depr.member.pointer.adaptors}
\removedxref{depr.ios.members}
\removedxref{depr.alg.random.shuffle}
\removedxref{depr.register}
\removedxref{lex.trigraph}

% Renamed sections.
\movedxref{atomics.types.operations.arith}{atomics.types.int}
\movedxref{atomics.types.operations.general}{atomics.types.operations}
\movedxref{atomics.types.operations.pointer}{atomics.types.pointer}
\movedxref{atomics.types.operations.req}{atomics.types.operations}
\movedxref{atomics.types.operations.templ}{atomics.types.operations}
\movedxrefii{basic.start.init}{basic.start.static}{basic.start.dynamic}
\movedxref{bind}{func.bind}
\movedxref{charname}{lex.name}
\movedxrefs{charname.allowed}{Table~\ref{tab:charname.allowed}}
\movedxrefs{charname.disallowed}{Table~\ref{tab:charname.disallowed}}
\movedxrefii{class.inhctor}{class.inhctor.init}{namespace.udecl}
\movedxref{c.limits}{climits.syn}
\movedxref{date.time}{ctime.syn}
\movedxref{defns.additional}{definitions}
\movedxref{expr.prim.general}{expr.prim}
\movedxref{fstreams}{fstream.syn}
\movedxref{global.names}{lex.name}
\movedxrefiii{iostream.format.overview}{istream.syn}{ostream.syn}{iomanip.syn}
\movedxref{iostreams.base.overview}{ios.syn}
\movedxref{limits}{support.limits}
\movedxrefii{limits.numeric}{support.limits.general}{limits.syn}
\movedxref{stream.buffers.overview}{streambuf.syn}
\movedxref{string.streams.overview}{sstream.syn}
\movedxref{uninitialized.fill.n}{uninitialized.fill}
\movedxref{util.smartptr.weakptr}{util.smartptr.weak.bad}

% Deprecated features.
\movedxref{ccmplx}{depr.ccomplex.syn}
\deprxref{conversions.buffer}
\deprxref{conversions.string}
\deprxref{iterator.basic}
\deprxref{locale.stdcvt}
\deprxref{negators}
\deprxref{storage.iterator}
\deprxref{temporary.buffer}
\deprxref{uncaught}

% :: -> .
\movedxref{istream::extractors}{istream.extractors}
\movedxref{string::append}{string.append}
\movedxref{string::assign}{string.assign}
\movedxref{string::compare}{string.compare}
\movedxref{string::copy}{string.copy}
\movedxref{string::erase}{string.erase}
\movedxref{string::find}{string.find}
\movedxref{string::find.first.not.of}{string.find.first.not.of}
\movedxref{string::find.first.of}{string.find.first.of}
\movedxref{string::find.last.not.of}{string.find.last.not.of}
\movedxref{string::find.last.of}{string.find.last.of}
\movedxref{string::insert}{string.insert}
\movedxref{string::op<}{string.op<}
\movedxref{string::op<=}{string.op<=}
\movedxref{string::op>}{string.op>}
\movedxref{string::op>=}{string.op>=}
% \movedxref{string::op!=}{string.op!=}
\movedxref{string::op+}{string.op+}
\movedxref{string::op+=}{string.op+=}
\movedxref{string::operator==}{string.operator==}
\movedxref{string::replace}{string.replace}
\movedxref{string::rfind}{string.rfind}
\movedxref{string::substr}{string.substr}
\movedxref{string::swap}{string.swap}

% Merged sections.
\movedxref{istreambuf.iterator::proxy}{istreambuf.iterator.proxy}
\movedxref{istreambuf.iterator::op*}{istreambuf.iterator.ops}
\movedxref{istreambuf.iterator::op++}{istreambuf.iterator.ops}
\movedxref{istreambuf.iterator::equal}{istreambuf.iterator.ops}
\movedxref{istreambuf.iterator::op==}{istreambuf.iterator.ops}
% \movedxref{istreambuf.iterator::op!=}{istreambuf.iterator.ops}
